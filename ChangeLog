2001-10-16  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el: Don't require nethack-menu.
	(nethack-start-program): Removed reference to obsolete variable.
	(nethack-process-send-string): Format log output nicely.
	(nethack-process-send): New function.
	(nethack-process-filter): Clobbering the point in the
	process-buffer no longer breaks processing.
	(nethack-log-string): Log messages right into the process buffer.
	(nethack-handle-command): Use `nconc' instead of `append'.

	* nethack-menu.el: Removed from repository.

	* nethack-api.el (nethack-api-display-file): Make an attempt at
	displaying file.
	(nethack-menu): New variable.
	(nethack-menu-item-print): New function.
	(nethack-menu-how): New variable.
	(nethack-menu-toggle-item): New function.
	(nethack-api-start-menu): Rewrite, no longer use widgets, but ewoc
	instead.
	(nethack-api-add-menu): Likewise.
	(nethack-api-end-menu): Likewise.
	(nethack-api-select-menu): Likewise.
	(ewoc): Require 'ewoc for menus.

2001-07-22  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack-menu.el (nethack-menu-fill-accelerators): new function
	(nethack-menu-draw): fill in valid accelerators for items that do
	not have them.
	(nethack-menu-draw): use elt to access the elements of
	nethack-menu-options.

	* nethack-api.el (nethack-api-display-nhwindow): vertically split
	the current buffer if the nethack buffer to be shown is the menu
	buffer. Add a keystroke to the menu buffer to hide it.

2001-07-21  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el (nethack-restore-windows): split so that the status
	window is just big enough to show contents.

	* nethack-menu.el (nethack-menu-create-item): fix bug that
	prevented non-menu text from showing up.

2001-07-19  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack-apix.el (nethack-api-choose-attribute): new arg ABORT.
	(nethack-api-choose-attribute): trap the quit signal and return
	ABORT in this case.
	(nethack-api-choose-role): properly return the associated number
	when there is only 1 choice.
	(nethack-api-choose-race): likewise
	(nethack-api-choose-gender): likewise
	(nethack-api-choose-alignment): likewise

2001-07-18  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack-menu.el (nethack-menu-keymap): rename from
	nethack-menu-mode-map.
	(nethack-menu-create-item): pass in HOW argument
	(nethack-menu-how): remove variable
	(nethack-menu-create-item): use accelerators.

2001-07-16  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el: tweak faces for light background.

	* nethack-api.el (nethack-api-putstr): save-selected-window only
	once.
	(nethack-api-delay-output): return a dummy value to the process.

2001-07-14  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack-cmd.el: Remove default key from docstring.

	* nethack-api.el (nethack-api-putstr): Force maximum output on
	status windows.

2001-07-13  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack-cmd.el (defun-nethack-command): New macro.  Redefine all
	nethack commands with this macro.  All nethack commands now take
	optional count argument.

2001-07-10  Ryan Yeske  <rcyeske@van.gobasis.com>

	* nethack-api.el (nethack-api-ask-direction): remove setq

2001-07-09  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el (nethack-process-filter): rewrite to insert string
	into process buffer and read and evaluate forms directly out of
	the buffer
	(nethack-process-output): remove
	(nethack-process-command-list): remove
	(nethack-parse-command): remove
	(nethack-log-string): comment out body
	(nethack-start-program): make sure process buffer exists and erase
	old contents.

	* nethack-menu.el (nethack-menu-buffer): remove
	(nethack-menu-add-item): add accelerator argument
	(nethack-menu-draw): use accelerator argument
	(nethack-menu-get-choices): replace `cond' with `if'

	* nethack-api.el (nethack-api-add-menu): call
	nethack-menu-add-item with accelerator argument.
	(nethack-api-bell): call ding.

2001-07-06  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack.el (nethack-handle-command): Add arg to specify how many
	times to execute the command.

	* nethack-menu.el (nethack-menu-get-choices): use -1 for the
	quantity of the item chosen.

	* nethack-cmd.el (nethack-command-search): Add prefix arg.
	(nethack-command-rest-one-move): likewise

	* nethack-api.el (nethack-api-ask-direction): s is a list of
	commands to move south.

2001-07-05  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el (nethack-yellow): Use "yellow3" for light
	backgrounds.

	* nethack-menu.el (nethack-menu-draw): Print close instructions at
	the top of menu.  Place the point at the top of menu after drawing
	it.

2001-07-05  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack.el (nethack-load-hook): new hook
	run nethack-load-hook hooks.

	* nethack-keys.el (nethack-mode-map): remove binding to
	nethack-command-cancel

	* nethack-cmd.el (nethack-command-southwest): new function

	* nethack-api.el (nethack-api-ask-direction): accepts any keys
	that are bound to nethack movement commands.

2001-07-02  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el: add provide line.

2001-07-01  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack.el (nethack-process-filter): remove let variables
	(nethack-process-command-list): log the incomplete command as such
	(nethack-parse-command): remove 'void-fixme and 'no-retval from
	the cond.

	* nethack-menu.el (nethack-menu-draw): menu appears on the left
	side of the split

	* nethack-api.el (nethack-api-raw-print): return 'void
	(nethack-api-raw-print-bold): likewise
	(nethack-api-raw-print-bold): likewise
	(nethack-api-curs): likewise
	(nethack-api-putstr): likewise
	(nethack-api-get-command): likewise
	(nethack-api-destroy-nhwindow): likewise
	(nethack-api-end-menu): likewise
	(nethack-api-select-menu): likewise
	(nethack-api-cliparound): likewise
	(nethack-api-outrip): likewise
	(nethack-api-delay-output): comment out body

2001-06-28  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack.el (nethack-red): new face
	(nethack-green): likewise
	(nethack-brown): likewise
	(nethack-blue): likewise
	(nethack-magenta): likewise
	(nethack-cyan): likewise
	(nethack-gray): likewise
	(nethack-dark-gray): likewise
	(nethack-orange): likewise
	(nethack-bright-green): likewise
	(nethack-yellow): likewise
	(nethack-bright-blue): likewise
	(nethack-bright-magenta): likewise
	(nethack-bright-cyan): likewise
	(nethack-white): likewise
	(nethack-color-alist): new const

	* nethack-keys.el (nethack-mode-map): "b" key calls
	nethack-command-southwest.
	(nethack-mode-map): "u" key calls nethack-command-northeast.
	(nethack-mode-map): "y" key calls nethack-command-northwest.

	* nethack-api.el (nethack-api-print-glyph): new parameter
	`face'. Set the color for each glyph.
	

2001-06-27  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack.el (nethack-restore-windows): new function

	* nethack-menu.el (nethack-menu-buffer): new var
	(nethack-menu-draw): assign the nethack-menu-buffer to the
	buffer. horizontally split the current window. 
	(nethack-menu-submit): call nethack-restore-windows.

	* nethack-api.el (nethack-api-yn-function): pressing return
	returns the default value. returns the key as an integer. Add a
	space after the prompt.
	(nethack-api-ask-direction): new function

2001-06-25  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack.el (nethack-process-command-list): use while to loop
	through the command list. If the last command fails to parse, keep
	it in the command list.

2001-06-21  Shawn Betts  <sabetts@van.gobasis.com>

	* nethack-menu.el (nethack-menu-create-item): insert a space after
	the checkbox widget.

	* nethack-api.el (nethack-api-exit-nhwindows): returns 'void.

	* nethack-menu.el (nethack-menu-add-item): add the item to the end
	of the list.
	(nethack-menu-create-item): only buttonize items with positive
	id's.

2001-05-06  shawn  <sabetts@diggin.lamenet.tmp>

	* nethack-menu.el (nethack-menu-options): new defvar
	(nethack-menu-widgets): likewise
	(nethack-menu-how): likewise
	(nethack-menu-mode-map): likewise
	(nethack-menu-add-item): new function
	(nethack-menu-create-item): likewise
	(nethack-menu-draw): likewise
	(nethack-menu-get-choices): likewise
	(nethack-menu-submit): likewise

	* nethack.el (nethack-menu): require nethack-menu
	(nethack-create-buffer): kill-all-local-variables on the buffer

	* nethack-api.el (nethack-api-start-menu): initialize some
	internal menu variables
	(nethack-api-add-menu): call nethack-menu-add-item
	(nethack-api-end-menu): do nothing
	(nethack-api-select-menu): call nethack-menu-draw

2000-09-26  Shawn  <sabetts@vcn.bc.ca>

	* nethack.el (nethack-process-command-list): The filter can now
	handle globs of nethack lisp commands.

2000-09-25  Shawn  <sabetts@vcn.bc.ca>

	* nethack-apix.el: In player selection, doesn't ask the user if
	there is only one choice.

	* nethack-api.el (nethack-api-yn-function): implemented.

	* nethack-cmd.el: Added the rest of the movement commands

2000-09-19  Ryan yeske  <rcyeske@van.gobasis.com>

	* nethack-api.el (nethack-api-get-command): renamed from
	nethack-api-getch and rewrote.

2000-09-11  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack.el (nethack-handle-command): Renamed from
	nethack-handle-key and rewritten in preparation for the removal of
	nethack-api-getch in favour of nethack-get-command.
	(nethack-waiting-for-command-flag): renamed from
	nethack-waiting-for-key-p.
	(nethack-command-queue): renamed from nethack-key-queue.
	(nethack-map-mode-map): removed.

	* nethack-cmd.el: Revived file.  Added a provide line to end.
	Renamed all calls to nethack-send-command to
	nethack-handle-command.

2000-09-07  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack-cmd.el: obsolete, removed file from CVS.
	
	* nethack-keys.el: obsolete, removed file from CVS.

	* nethack-api.el (nethack-api-delay-output): implemented.
	(nethack-api-outrip): implemented.
	(nethack-api-wait-synch): implemented.
	(nethack-api-start-menu): implemented.
	(nethack-api-yn-function): implemeneted.

2000-08-20  Ryan Yeske  <rcyeske@vcn.bc.ca>

	* nethack-api.el: changed all retvals to 'unimplemented for
	functions that have not been flushed out.

	* nethack.el (nethack-draw-glyph): removed.  handle in nethack-api
	with (nethack-api-print-glyph)
	(nethack-process-send-string): now sends a newline.
	(nethack-create-map-buffer): removed.
	(nethack-create-status-buffer): removed.
	(nethack-create-map-buffer): removed.

	* nethack-api.el: massive reformatting of comments and overall
	file structure.

2000-03-23  Ryan Yeske  <rcyeske@sfu.ca>

	* nethack.el (nethack-program,nethack-program-args): added `*' to
	docstrings to enable interactive setting of vars

	* nethack-keys.el: test added to prevent creating new keymap

	* nethack-api.el (nethack-api-putstr): added missing close paren

2000-03-20  Ryan Yeske  <rcyeske@sfu.ca>

	* nethack.el (nethack-parse-command): added evaluation

2000-03-18  Ryan Yeske  <rcyeske@sfu.ca>

	* nethack-keys.el: renamed some functions, not used yet so no
	details given

	* nethack-cmd.el: renamed some functions, not used yet so no
	details given

	* nethack.el (nethack-program): new variable
	(nethack-program-args): new variable
	(nethack): new function
	(nethack-start-program): new function
	(nethack-process-buffer-name): new variable
	(nethack-process): new variable
	(nethack-process-send-string): new function
	(nethack-end-of-command-string): new variable
	(nethack-process-filter): new function
	(nethack-log-string): new function
	(nethack-quit): new function
	(nethack-send-command): new function

	* nethack-api.el: updated file description in header comments

